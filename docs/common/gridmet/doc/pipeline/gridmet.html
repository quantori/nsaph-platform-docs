<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>gridMET Data Processing Pipeline &mdash; NSAPH Data Platform 0.0.2 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/sphinx_paramlinks.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/nsaph.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Medicare in-database processing pipeline" href="../../../cms/doc/pipeline/medicare.html" />
    <link rel="prev" title="Data Processing Pipelines" href="../../../../pipelines.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> NSAPH Data Platform
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../home.html">Documentation Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../rationale.html">What is Data Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../domains.html">Data Domains</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../pipelines.html">Data Processing Pipelines</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">gridMET Data Processing Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../epa/doc/pipeline/aqs.html">Full EPA AQS Processing Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../epa/doc/pipeline/airnow.html">Full EPA AirNow Processing Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../cms/doc/pipeline/medicare.html">Medicare in-database processing pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../cms/doc/pipeline/medicaid.html">Full Medicaid Processing Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../census/doc/pipeline/census_workflow.html">Complete Census Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../packages.html">Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../guts.html">Data Platform Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary.html">Terms and Acronyms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docindices.html">Indices</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">NSAPH Data Platform</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../../pipelines.html">Data Processing Pipelines</a> &raquo;</li>
      <li>gridMET Data Processing Pipeline</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/common/gridmet/doc/pipeline/gridmet.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>orphan:</p>
<div class="section" id="gridmet-data-processing-pipeline">
<h1>gridMET Data Processing Pipeline<a class="headerlink" href="#gridmet-data-processing-pipeline" title="Permalink to this heading"></a></h1>
<p class="rubric">Workflow</p>
<p class="rubric">Description<p>Downloads, processes gridMET data and ingests it into the database.
The workflow downloads raw data, aggregates it to calculate daily mean values
for each given geography and ingests it into the database
</p>
</p>
<p class="rubric">Inputs<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>proxy</p></td>
<td><p>string?</p></td>
<td><p>``</p></td>
<td><p>HTTP/HTTPS Proxy if required</p></td>
</tr>
<tr class="row-odd"><td><p>shapes</p></td>
<td><p>Directory?</p></td>
<td><p> </p></td>
<td><p>Do we even need this parameter, as we isntead downloading shapes?</p></td>
</tr>
<tr class="row-even"><td><p>geography</p></td>
<td><p>string</p></td>
<td><p> </p></td>
<td><p>Type of geography: zip codes or counties Valid values: “zip” or “county” </p></td>
</tr>
<tr class="row-odd"><td><p>years</p></td>
<td><p>string[]</p></td>
<td><p>`[‘1999’, ‘2000’, ‘2001’, ‘2002’, ‘2003’, ‘2004’, ‘2005’, ‘2006’, ‘2007’, ‘2008’, ‘2009’, ‘2010’, ‘2011’, ‘2012’, ‘2013’, ‘2014’, ‘2015’, ‘2016’, ‘2017’, ‘2018’, ‘2019’, ‘2020’]`</p></td>
<td><p> </p></td>
</tr>
<tr class="row-even"><td><p>bands</p></td>
<td><p>string[]</p></td>
<td><p> </p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>database</p></td>
<td><p>File</p></td>
<td><p> </p></td>
<td><p>Path to database connection file, usually database.ini</p></td>
</tr>
<tr class="row-even"><td><p>connection_name</p></td>
<td><p>string</p></td>
<td><p> </p></td>
<td><p>The name of the section in the database.ini file</p></td>
</tr>
<tr class="row-odd"><td><p>dates</p></td>
<td><p>string?</p></td>
<td><p> </p></td>
<td><p>dates restriction, for testing purposes only</p></td>
</tr>
</tbody>
</table>
</p>
<p class="rubric">Outputs<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>registry</p></td>
<td><p>File</p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>registry_log</p></td>
<td><p>File</p></td>
<td><p> </p></td>
</tr>
<tr class="row-even"><td><p>registry_err</p></td>
<td><p>File</p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-even"><td><p>download_log</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>download_err</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-even"><td><p>process_log</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>process_err</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-even"><td><p>ingest_log</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>ingest_err</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-even"><td><p>reset_log</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>reset_err</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-even"><td><p>index_log</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>index_err</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-even"><td><p>vacuum_log</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
<tr class="row-odd"><td><p>vacuum_err</p></td>
<td><p>array</p></td>
<td><p> </p></td>
</tr>
</tbody>
</table>
</p>
<p class="rubric">Steps<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Runs</p></th>
<th class="head"><p>Target</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>make_registry</p></td>
<td><p>registry.cwl</p></td>
<td><p><a class="reference external" href="registry.html">registry.html</a></p></td>
<td><p>Writes down YAML file with the database model</p></td>
</tr>
<tr class="row-odd"><td><p>init_tables</p></td>
<td><p>{‘class’: ‘Workflow’, ‘inputs’: {‘registry’: {‘type’: ‘File’}, ‘table’: {‘type’: ‘string’}, ‘database’: {‘type’: ‘File’}, ‘connection_name’: {‘type’: ‘string’}}, ‘steps’: {‘reset’: {‘run’: ‘reset.cwl’, ‘in’: {‘registry’: ‘registry’, ‘domain’: {‘valueFrom’: ‘gridmet’}, ‘database’: ‘database’, ‘connection_name’: ‘connection_name’, ‘table’: ‘table’}, ‘out’: [‘log’, ‘errors’]}, ‘index’: {‘run’: ‘index.cwl’, ‘in’: {‘depends_on’: ‘reset/log’, ‘registry’: ‘registry’, ‘domain’: {‘valueFrom’: ‘gridmet’}, ‘table’: ‘table’, ‘database’: ‘database’, ‘connection_name’: ‘connection_name’}, ‘out’: [‘log’, ‘errors’]}}, ‘outputs’: {‘reset_log’: {‘type’: ‘File’, ‘outputSource’: ‘reset/log’}, ‘reset_err’: {‘type’: ‘File’, ‘outputSource’: ‘reset/errors’}, ‘index_log’: {‘type’: ‘File’, ‘outputSource’: ‘index/log’}, ‘index_err’: {‘type’: ‘File’, ‘outputSource’: ‘index/errors’}}}</p></td>
<td><p>command</p></td>
<td><p>creates or recreates database tables, one for each band</p></td>
</tr>
<tr class="row-even"><td><p>process</p></td>
<td><p>{‘class’: ‘Workflow’, ‘inputs’: {‘depends_on’: {‘type’: ‘Any?’}, ‘proxy’: {‘type’: ‘string?’}, ‘model’: {‘type’: ‘File’}, ‘shapes’: {‘type’: ‘Directory?’}, ‘geography’: {‘type’: ‘string’}, ‘year’: {‘type’: ‘string’}, ‘band’: {‘type’: ‘string’}, ‘table’: {‘type’: ‘string’}, ‘database’: {‘type’: ‘File’}, ‘connection_name’: {‘type’: ‘string’}, ‘dates’: {‘type’: ‘string?’}}, ‘steps’: {‘download’: {‘run’: ‘download.cwl’, ‘doc’: ‘Downloads data’, ‘in’: {‘year’: ‘year’, ‘band’: ‘band’, ‘proxy’: ‘proxy’}, ‘out’: [‘data’, ‘log’, ‘errors’]}, ‘get_shapes’: {‘run’: ‘get_shapes.cwl’, ‘in’: {‘year’: ‘year’, ‘geo’: ‘geography’, ‘proxy’: ‘proxy’}, ‘out’: [‘shape_files’]}, ‘aggregate’: {‘run’: ‘process.cwl’, ‘doc’: ‘Processes data’, ‘in’: {‘proxy’: ‘proxy’, ‘shapes’: ‘shapes’, ‘geography’: ‘geography’, ‘year’: ‘year’, ‘dates’: ‘dates’, ‘band’: ‘band’, ‘input’: ‘download/data’, ‘shape_files’: ‘get_shapes/shape_files’}, ‘out’: [‘data’, ‘log’, ‘errors’]}, ‘ingest’: {‘run’: ‘add_data.cwl’, ‘doc’: ‘Uploads data into the database’, ‘in’: {‘registry’: ‘model’, ‘table’: ‘table’, ‘input’: ‘aggregate/data’, ‘database’: ‘database’, ‘connection_name’: ‘connection_name’}, ‘out’: [‘log’, ‘errors’]}, ‘vacuum’: {‘run’: ‘vacuum.cwl’, ‘in’: {‘depends_on’: ‘ingest/log’, ‘domain’: {‘valueFrom’: ‘gridmet’}, ‘registry’: ‘model’, ‘table’: ‘table’, ‘database’: ‘database’, ‘connection_name’: ‘connection_name’}, ‘out’: [‘log’, ‘errors’]}}, ‘outputs’: {‘download_log’: {‘type’: ‘File’, ‘outputSource’: ‘download/log’}, ‘download_err’: {‘type’: ‘File’, ‘outputSource’: ‘download/errors’}, ‘aggregate_data’: {‘type’: ‘File’, ‘outputSource’: ‘aggregate/data’}, ‘aggregate_log’: {‘type’: ‘File’, ‘outputSource’: ‘aggregate/log’}, ‘aggregate_err’: {‘type’: ‘File’, ‘outputSource’: ‘aggregate/errors’}, ‘ingest_log’: {‘type’: ‘File’, ‘outputSource’: ‘ingest/log’}, ‘ingest_err’: {‘type’: ‘File’, ‘outputSource’: ‘ingest/errors’}, ‘vacuum_log’: {‘type’: ‘File’, ‘outputSource’: ‘vacuum/log’}, ‘vacuum_err’: {‘type’: ‘File’, ‘outputSource’: ‘vacuum/errors’}}}</p></td>
<td><p>command</p></td>
<td><p>Downloads raw data and aggregates it over shapes and time</p></td>
</tr>
</tbody>
</table>
</p>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../../pipelines.html" class="btn btn-neutral float-left" title="Data Processing Pipelines" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../cms/doc/pipeline/medicare.html" class="btn btn-neutral float-right" title="Medicare in-database processing pipeline" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Harvard University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>